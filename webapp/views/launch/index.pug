html
  head
    title Open City Toolkit

    link(rel='stylesheet' href='/lib/bootstrap/css/bootstrap.min.css')
    link(rel='stylesheet' href='/lib/leaflet/leaflet.css')
    link(rel='stylesheet' href='/lib/leaflet-draw/leaflet.draw.css')

    script(src='/lib/jquery/jquery.min.js')
    script(src='/lib/bootstrap/js/bootstrap.min.js')
    script(src='/lib/leaflet/leaflet.js')
    script(src='/lib/leaflet-draw/leaflet.draw.js')

    style
      include style.css
      include ../map/style.css

  body

    div(class='main')
      div(class='sidebar')
        div(id='launch-app' class='card card-border')
          select(id='launch-app-menu', onchange='launch_app()', class='select-menu')
            option(selected value='') - Applications -
            option(value='module_1a') Time map
            option(value='module_1b') Accessibility map
            option(value='module_10') Suggest a road network
            option(value='module_2b') Query area and population by land ownership
            option(value='module_2c') test
          
           
        div(id='textarea' class='dialogue_text_area')

        div(id='buttonarea' class='card card-buttons row')

        div(id='launch-settings' class='card card-border')
          select(id='launch-settings-menu', onchange='launch_settings()', class='select-menu')
            option(selected value='') - Settings -
            option(value='add_location') Set new location
            option(value='make_selection') Set new selection
            option(value='resolution_setting') Set resolution
            option(value='add_map') Add map to query mapset


        div(id='restart' class='card card-border')
          select(id='restart-menu', onchange='restart()', class='select-menu')
            option(selected value='') - Reset -
            option(onclick='restart()' selected value='RESTART') Reset the system 
          
      div(id='map-container' class='card')
        include ../map/index.pug


      div(id='alert-anchor')
        
      div(id='loading')
        div(class='loading-text') Processing â€¦
        div(class='spinner spinner-border')

    script.
      const geoserverUrl = '#{geoserverUrl}';
      const [lat, lon] = [#{lat}, #{lon}];
    script
      include legend.js
      include script.js
      include ../map/script.js
